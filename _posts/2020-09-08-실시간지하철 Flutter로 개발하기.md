---
title:  "실시간지하철 Flutter로 개발하기"
search: true
categories: 
  - 실시간지하철 개발
tags: [Flutter, 플러터, 개발, 실시간지하철, 지하철]
toc: true
toc_sticky: true
---

# 개요
## 문제점
실시간지하철은 `안드로이드`와 `iOS` 두 개의 버전으로 출시되어있다.  
그러나 안드로이드 버전보다 iOS 버전의 기능이 조금 더 떨어진다.  

![설정 화면]({{site.url}}/images/실시간지하철/002-설정-비교.png)

안드로이드 버전에는 있는데 iOS 버전에 없는 기능은 다음과 같다

- 첫 화면 설정
- 자동 새로고침, 새로고침 시간
- 화면 설정
  - 테마
  - 열차 아이콘 위치
  - 열차 정보 표시(열차 번호, 행선지 등)
  - 열차 상태 표시(출발/도착/진입)
  - 글자 크기
  - 리스트 높이

설정 뿐만아니라 다른 기능들도 iOS 버전이 훨씬 떨어진다.  
안드로이드 스마트폰을 사용하고 있기 때문에  
안드로이드 버전이 더 많은 기능이 탑재될 수 밖에 없었다.  
게다가 iOS 앱 개발을 위해서는 Swift를 사용해야하는데  
지금 출시한 앱도 겨우 Swift를 사용해 만든 앱이라  
내가 짠 코드인데도 내가 못 알아볼 지경에 이르렀다.

## 동시개발의 현실

1. 두 가지 버전을 동시에 개발해야 한다.
2. 이 앱으로 사업을 할 생각은 없다.

안드로이드 버전과 iOS 버전을 동시에 개발하긴 하지만  
이 앱으로 크게 사업을 하거나 내가 생계를 목적으로  
유지할 앱이 아니기 때문에 따로 개발하기는 힘들다고 판단했다.

# 크로스 플랫폼
## 선택
몇 년 전 부터 한 번에 개발하기 위해 많은 생각을 했었다.  
HTML, CSS, JS를 이용해 웹뷰에 띄우기만 해도  
충분히 구동 가능한 앱이었기 때문에  
초기 iOS 버전은 이렇게 구현했었다.  

그러나 역시 웹 뷰라서 그런지 네이티브 기능과 연동하기에  
다소 부적절한 부분이 있었다.  

예를 들자면, 설정값을 저장해야하는데 매번 웹뷰와 통신을 해야하다보니  
코드도 복잡해지고 디자인적으로도 마음에 들지 않았다.  
그래서 Swift 기초를 배운 뒤 급하게 iOS 버전을 제작했었다.  

하지만 Swift를 잘 모르고 iOS 개발도 많이 해본 경험이 없었던데다가  
여러가지 일과 겹쳐 공부와 개발을 미루다보니 지금과같은 결과가 탄생했다.

## React-Native
프로젝트 생성부터 답답했다.  
이 시점에는 이미 후술할 Flutter 프로젝트를 한번 생성해봤을때였다.  

코드도 특이했다.  

``` JS
render() {
  return (
    <View>
      <Text style={styles.red}>Hello World</Text>
    </View>
  )
}
```

이런식의 코드가 조금 충격으로 다가왔다.  
프로그래밍 코드 스타일과 HTML을 같이 쓰는 점.  
나에게는 가독성이 떨어졌고 자바스크립트를 모르는 상황에서  
굳이 모든게 불편한 React-Native를 사용할 이유는 없었다.  

게다가 브릿지 사용으로 인한 퍼포먼스 문제도 있다고 하는데  
이 부분은 React-Native를 사용 안 해본 수준이기 때문에  
React-Native를 선택하지 않은 것에 대한 직접적인 원인이 되지는 않았다.

## Flutter
소프트웨어 마에스트로를 진행하면서 Flutter의 능력은 입증되었다.  
또한, Flutter 외주 프로젝트를 통해서 더더욱 확고해졌다.  
실시간지하철을 제작하는데는 굳이 네이티브로 작성할 필요성도 사라졌고  
오히려 Flutter를 이용하는 점이 훨씬 낫다고 판단했다.

퍼포먼스도 만족스럽게 나오고 개발 속도도 빨랐으며  
해외 커뮤니티는 물론 국내 커뮤니티도 커졌다.  
도움을 받을 수 있는 자료도 많아졌고  
도움을 받을 수 있는 사람들도 많아졌다.  

기본으로 제공하는 컴포넌트도 손쉽게 사용할 수 있고  
제공하지 않는 컴포넌트들은 라이버리로 가져다 쓰면 된다.  
필요한 라이브러리들이 내가 Flutter를 접한 1년 사이에  
매우 많아졌다는 사실에 놀라웠다.

따라서 실시간지하철 앱은 Flutter로 개발할 계획이며  
앞으로 자주 업데이트 할 수 있을 것으로 생각한다.